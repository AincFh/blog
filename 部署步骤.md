# ğŸš€ Cloudflare Pages éƒ¨ç½² - æœ€ç»ˆæ­¥éª¤

## âœ… æœ¬åœ°å‡†å¤‡å®Œæˆ

ä»£ç å·²ç»é…ç½®å¥½å¹¶æäº¤åˆ° Gitã€‚ç°åœ¨éœ€è¦åœ¨ Cloudflare Dashboard å®Œæˆæœ€åçš„é…ç½®ã€‚

## ğŸ“‹ åœ¨ Cloudflare Dashboard çš„æ“ä½œæ­¥éª¤

### æ­¥éª¤ 1: é…ç½®æ„å»ºè®¾ç½®

1. è®¿é—®: https://dash.cloudflare.com
2. è¿›å…¥: **Workers & Pages** â†’ **blog-web** â†’ **Settings** â†’ **Builds & deployments**
3. ç‚¹å‡» **"Edit configuration"** æˆ– **"é…ç½®ç”Ÿäº§éƒ¨ç½²"**

é…ç½®å¦‚ä¸‹:

| è®¾ç½®é¡¹ | å€¼ |
|--------|-----|
| **æ¡†æ¶é¢„è®¾** | `Next.js` |
| **æ„å»ºå‘½ä»¤** | `npx @cloudflare/next-on-pages@1` |
| **æ„å»ºè¾“å‡ºç›®å½•** | `.vercel/output/static` |
| **æ ¹ç›®å½•** | (ç•™ç©º) |
| **Node ç‰ˆæœ¬** | 18 (åœ¨ç¯å¢ƒå˜é‡ä¸­è®¾ç½®) |

### æ­¥éª¤ 2: æ·»åŠ æ„å»ºç¯å¢ƒå˜é‡

åœ¨åŒä¸€é¡µé¢çš„ **"Environment variables (advanced)"** éƒ¨åˆ†:

ç‚¹å‡» **"Add variable"**:
- å˜é‡å: `NODE_VERSION`
- å€¼: `18`
- ç¯å¢ƒ: **Production**

### æ­¥éª¤ 3: é…ç½®å‡½æ•°ç»‘å®š (å…³é”®!)

1. è¿›å…¥: **Settings** â†’ **Functions** â†’ **Bindings**
2. ç‚¹å‡» **"Add binding"**

**D1 æ•°æ®åº“ç»‘å®š**:
- ç±»å‹: `D1 database`
- å˜é‡å: `DB`
- D1 database: é€‰æ‹© `blog-database`

**KV å‘½åç©ºé—´ç»‘å®š**:
- ç±»å‹: `KV namespace`  
- å˜é‡å: `KV_SESSIONS`
- KV namespace: é€‰æ‹© `blog`

### æ­¥éª¤ 4: æ·»åŠ è¿è¡Œæ—¶ç¯å¢ƒå˜é‡ (å¯é€‰)

è¿›å…¥: **Settings** â†’ **Environment variables**

æ·»åŠ :
- å˜é‡å: `AUTH_SECRET`
- å€¼: (è¿è¡Œ `openssl rand -hex 32` ç”Ÿæˆ)
- ç¯å¢ƒ: **Production**

### æ­¥éª¤ 5: è¿æ¥ Git ä»“åº“ï¼ˆå¦‚æœè¿˜æ²¡è¿æ¥ï¼‰

å¦‚æœæ‚¨çš„é¡¹ç›®è¿˜æ²¡è¿æ¥åˆ° Git:

1. åœ¨ **Settings** â†’ **Builds & deployments** ä¸­
2. ç‚¹å‡» **"Connect to Git"**
3. é€‰æ‹© GitHub/GitLab
4. æˆæƒå¹¶é€‰æ‹©ä»“åº“

### æ­¥éª¤ 6: è§¦å‘éƒ¨ç½²

**æ–¹å¼ A - è‡ªåŠ¨éƒ¨ç½²**:
å¦‚æœå·²è¿æ¥ Gitï¼Œæ¨é€ä»£ç å³å¯:
```powershell
git push origin master
```

**æ–¹å¼ B - æ‰‹åŠ¨éƒ¨ç½²**:
1. åœ¨ **Deployments** é¡µé¢
2. ç‚¹å‡» **"Create deployment"**
3. é€‰æ‹©åˆ†æ”¯ `master`
4. ç‚¹å‡» **"Save and Deploy"**

## â³ ç­‰å¾…éƒ¨ç½²

- æ„å»ºæ—¶é—´: çº¦ 3-5 åˆ†é’Ÿ
- å¯ä»¥åœ¨ **Deployments** é¡µé¢æŸ¥çœ‹å®æ—¶æ—¥å¿—
- æ„å»ºæˆåŠŸåä¼šæ˜¾ç¤ºç»¿è‰²çš„ "Success"

## ğŸ‰ éªŒè¯éƒ¨ç½²

è®¿é—®ä»¥ä¸‹ URL:
- è‡ªå®šä¹‰åŸŸå: https://aincfh.dpdns.org
- Pages åŸŸå: https://blog-web-48w.pages.dev
- æœ€æ–°éƒ¨ç½²: https://master.blog-web-48w.pages.dev

## ğŸ” å¦‚æœæ„å»ºå¤±è´¥

æŸ¥çœ‹æ„å»ºæ—¥å¿—ï¼Œå¸¸è§é”™è¯¯:

1. **"Cannot find module"** â†’ æ£€æŸ¥ `package.json` ä¾èµ–
2. **"Database not found"** â†’ æ£€æŸ¥ D1 ç»‘å®šé…ç½®
3. **"Build timed out"** â†’ é¡¹ç›®å¤ªå¤§ï¼Œè”ç³»æˆ‘ä¼˜åŒ–

## ğŸ’¡ é‡è¦æç¤º

- âš ï¸ `@cloudflare/next-on-pages` åœ¨ Windows æœ¬åœ°æ— æ³•è¿è¡Œï¼ˆæ­£å¸¸ç°è±¡ï¼‰
- âœ… Cloudflare Pages çš„ Linux æ„å»ºç¯å¢ƒä¼šæ­£å¸¸å·¥ä½œ
- âœ… æ‰€æœ‰é…ç½®å·²å‡†å¤‡å¥½ï¼Œåªéœ€åœ¨ Dashboard å®Œæˆè®¾ç½®

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œæä¾›:
1. æ„å»ºæ—¥å¿—æˆªå›¾
2. é”™è¯¯ä¿¡æ¯
3. æˆ‘ä¼šå¸®æ‚¨è¯Šæ–­
