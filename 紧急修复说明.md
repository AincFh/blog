# ä¿®å¤ Cloudflare Pages 404 - ç´§æ€¥è¯´æ˜

## âš ï¸ å…³é”®é—®é¢˜å‘ç°

æ‚¨çš„é…ç½®ä¸­æ·»åŠ äº† **`output: 'standalone'`**,è¿™å¯¼è‡´äº† 404 é”™è¯¯ï¼è¿™ä¸ªé…ç½®ä¸é€‚ç”¨äº Cloudflare Pagesã€‚

## âœ… æˆ‘å·²ç»ä¿®å¤äº†ä»€ä¹ˆ

1. **ç§»é™¤äº† `output: 'standalone'`** ä» `next.config.js`
2. **ç®€åŒ–äº† `_routes.json`** - ç§»é™¤äº†ä¸æ”¯æŒçš„ `routes` å­—æ®µ
3. **é‡æ–°æ„å»ºæˆåŠŸ** - æœ¬åœ°æ„å»ºå·²å®Œæˆ

## ğŸš€ ç°åœ¨éœ€è¦æ‚¨æ‰‹åŠ¨éƒ¨ç½²

ç”±äº Git æ¨é€å’Œ Wrangler é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œè¯·ä½¿ç”¨ Cloudflare Dashboard æ‰‹åŠ¨ä¸Šä¼ ï¼š

### æ–¹æ³• 1: ä½¿ç”¨ Cloudflare Dashboard (æ¨è)

1. è®¿é—®: https://dash.cloudflare.com
2. Pages â†’ blog-web â†’ ç‚¹å‡» "Upload assets"æˆ– "Create deployment"
3. é€‰æ‹©åˆ†æ”¯ `master`
4. ä¸Šä¼  `.next` æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰å†…å®¹

### æ–¹æ³• 2: ä¿®å¤ Git å¹¶æ¨é€

å¦‚æœæ‚¨çš„ Git è¿œç¨‹ä»“åº“å·²é…ç½®:

```powershell
# æ£€æŸ¥è¿œç¨‹ä»“åº“
git remote -v

# å¦‚æœæ²¡æœ‰è¿œç¨‹ä»“åº“ï¼Œæ·»åŠ ä¸€ä¸ª(æ›¿æ¢ä¸ºæ‚¨çš„ GitHub ä»“åº“ URL)
git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/ä½ çš„ä»“åº“.git

# æ¨é€
git push origin master
```

### æ–¹æ³• 3: é‡æ–°é…ç½® Cloudflare Pages

1. è®¿é—® Cloudflare Dashboard â†’ Pages â†’ blog-web â†’ Settings
2. åœ¨ "Builds & deployments" ä¸­ï¼Œç‚¹å‡» "Configure Production deployments"
3. è¿æ¥åˆ°æ‚¨çš„ GitHub/GitLab ä»“åº“
4. Cloudflare ä¼šè‡ªåŠ¨æ£€æµ‹æ–°çš„æäº¤å¹¶éƒ¨ç½²

## ğŸ“‹ ä¿®å¤çš„é…ç½®æ–‡ä»¶

### next.config.js (å·²ä¿®å¤)
```javascript
{
  // Cloudflare Pages ä¼˜åŒ–è®¾ç½®
  skipTrailingSlashRedirect: true,
  trailingSlash: false,
  // âŒ å·²ç§»é™¤: output: 'standalone',
}
```

### _routes.json (å·²ç®€åŒ–)
```json
{
  "version": 1,
  "include": ["/*"],
  "exclude": []
}
```

## âš¡ ä¸ºä»€ä¹ˆä¹‹å‰å¤±è´¥äº†ï¼Ÿ

- `output: 'standalone'` ä¼šåˆ›å»ºä¸€ä¸ªå®Œå…¨ç‹¬ç«‹çš„ Node.js æœåŠ¡å™¨ï¼Œè¿™ä¸æ˜¯ Cloudflare Pages æœŸæœ›çš„æ ¼å¼
- å¤æ‚çš„ `_routes.json` é…ç½®åŒ…å«äº†ä¸æ”¯æŒçš„å­—æ®µï¼ˆ`routes` æ•°ç»„ï¼‰
- Cloudflare Pages æœŸæœ›æ ‡å‡†çš„ Next.js æ„å»ºè¾“å‡º (`.next` ç›®å½•)

## ğŸ” ä¸‹ä¸€æ­¥

1. é€‰æ‹©ä¸Šé¢çš„ä»»ä¸€éƒ¨ç½²æ–¹æ³•
2. ç­‰å¾… 2-3 åˆ†é’Ÿè®©éƒ¨ç½²å®Œæˆ
3. è®¿é—® https://aincfh.dpdns.org æˆ– https://blog-web-48w.pages.dev
4. å¦‚æœè¿˜æ˜¯ 404ï¼Œæ¸…é™¤æµè§ˆå™¨ç¼“å­˜ (Ctrl + Shift + Delete)
